<div class ="main">
    <div class="copy-container">
    <h1>Let's find your best college!</h1>
    <h2>~オーストラリアの大学を見てみよう！~</h2>
    </div>
    
    <div class="contents">
        <div class="conditions1">
            <div class="box">
                <div class="line-header1">
                <h>州</h1>
                </div>      
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                    選択してください
                    </button>
                    <ul class="dropdown-menu dropdown-menu-dark">
                        <li><a class="dropdown-item" href="#">指定しない</a></li>
                        <li><a class="dropdown-item" href="#">アラバマ州(AL)</a></li>
                        <li><a class="dropdown-item" href="#">アラスカ州(AK)</a></li>
                        <li><a class="dropdown-item" href="#">アリゾナ州(AZ)</a></li>
                        <li><a class="dropdown-item" href="#">アーカンソー州(AR)</a></li>
                        <li><a class="dropdown-item" href="#">カリフォルニア州(CA)</a></li>
                        <li><a class="dropdown-item" href="#">コロラド州(CO)</a></li>
                        <li><a class="dropdown-item" href="#">コネチカット州(CT)</a></li>
                        <li><a class="dropdown-item" href="#">デラウェア州(DE)</a></li>
                        <li><a class="dropdown-item" href="#">コロンビア特別区(DC)</a></li>
                        <li><a class="dropdown-item" href="#">フロリダ州(FL)</a></li>
                        <li><a class="dropdown-item" href="#">ジョージア州(GA)</a></li>
                        <li><a class="dropdown-item" href="#">ハワイ州(HI)</a></li>
                        <li><a class="dropdown-item" href="#">アイダホ州(ID)</a></li>
                        <li><a class="dropdown-item" href="#">イリノイ州(IL)</a></li>
                        <li><a class="dropdown-item" href="#">インディアナ州(IN)</a></li>
                        <li><a class="dropdown-item" href="#">アイオワ州(IA)</a></li>
                        <li><a class="dropdown-item" href="#">カンザス州(KS)</a></li>
                        <li><a class="dropdown-item" href="#">ケンタッキー州(KY)</a></li>
                        <li><a class="dropdown-item" href="#">ルイジアナ州(LA)</a></li>
                        <li><a class="dropdown-item" href="#">メイン州(ME)</a></li>
                        <li><a class="dropdown-item" href="#">メリーランド州(MD)</a></li>
                        <li><a class="dropdown-item" href="#">マサチューセッツ州(MA)</a></li>
                        <li><a class="dropdown-item" href="#">ミシガン州(MI)</a></li>
                        <li><a class="dropdown-item" href="#">ミネソタ州(MN)</a></li>
                        <li><a class="dropdown-item" href="#">ミシシッピ州(MS)</a></li>
                        <li><a class="dropdown-item" href="#">ミズーリ州(MO)</a></li>
                        <li><a class="dropdown-item" href="#">モンタナ州(MT)</a></li>
                        <li><a class="dropdown-item" href="#">ネブラスカ州(NE)</a></li>
                        <li><a class="dropdown-item" href="#">ネバダ州(NV)</a></li>
                        <li><a class="dropdown-item" href="#">ニューハンプシャー州(NH)</a></li>
                        <li><a class="dropdown-item" href="#">ニュージャージー州(NJ)</a></li>
                        <li><a class="dropdown-item" href="#">ニューメキシコ州(NM)</a></li>
                        <li><a class="dropdown-item" href="#">ニューヨーク州(NY)</a></li>
                        <li><a class="dropdown-item" href="#">ノースカロライナ州(NC)</a></li>
                        <li><a class="dropdown-item" href="#">ノースダコタ州(ND)</a></li>
                        <li><a class="dropdown-item" href="#">オハイオ州(OH)</a></li>
                        <li><a class="dropdown-item" href="#">オクラホマ州(OK)</a></li>
                        <li><a class="dropdown-item" href="#">オレゴン州(OR)</a></li>
                        <li><a class="dropdown-item" href="#">ペンシルベニア州(PA)</a></li>
                        <li><a class="dropdown-item" href="#">ロードアイランド州(RI)</a></li>
                        <li><a class="dropdown-item" href="#">サウスカロライナ州(SC)</a></li>
                        <li><a class="dropdown-item" href="#">サウスダコタ州(SD)</a></li>
                        <li><a class="dropdown-item" href="#">テネシー州(TN)</a></li>
                        <li><a class="dropdown-item" href="#">テキサス州(TX)</a></li>
                        <li><a class="dropdown-item" href="#">ユタ州(UT)</a></li>
                        <li><a class="dropdown-item" href="#">バーモント州(VT)</a></li>
                        <li><a class="dropdown-item" href="#">バージニア州(VA)</a></li>
                        <li><a class="dropdown-item" href="#">ワシントン州(WA)</a></li>
                        <li><a class="dropdown-item" href="#">ウェストバージニア州(WV)</a></li>
                        <li><a class="dropdown-item" href="#">ウィスコンシン州(WI)</a></li>
                        <li><a class="dropdown-item" href="#">ワイオミング州(WY)</a></li>
                    </ul>    
                </div>                   
            </div>
        </div>
        <script>
        document.addEventListener('DOMContentLoaded', function () {
            // ドロップダウンアイテムがクリックされたときの処理
            document.querySelectorAll('.dropdown-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();  // リンクのデフォルトの動作を無効にする
                const selectedText = this.textContent;  // クリックされたアイテムのテキストを取得
                document.getElementById('dropdownMenuButton').innerText = selectedText;  // ボタンにテキストを設定
            });
            });
            // スクロール時にドロップダウンを閉じる
            let dropdownButton = document.getElementById('dropdownMenuButton');
            let dropdownMenu = document.querySelector('.dropdown-menu');

            window.addEventListener('scroll', function () {
                if (dropdownMenu.classList.contains('show')) {
                    // ドロップダウンが開いている場合は閉じる
                    dropdownButton.click(); // Bootstrapのトグルボタンをトリガー
                }
            });
        });
        </script>

        <div class="conditions2">
            <div class="box">
                    <div class="tooltip-container1">
                        <span class="tooltip-trigger">？</span>
                        <div class="tooltip-content">
                        州立大学は、州民以外の学生に対して通常の2~3倍の学費を設定していることに注意が必要です。また、私立大学の方が多くの奨学金を受け取れる傾向にあります。
                        </div>
                    </div> 
                    <div class="line-header2">
                        <h>私立/州立</h>
                    </div>
                <form>
                    <div class="form-group1">
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio1" value="option1" checked>
                        <label class="form-check-label" for="radio1">
                        指定しない
                        </label>
                        </div>
                        
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio2" value="option2">
                        <label class="form-check-label" for="radio2">
                        私立
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio2" value="option2">
                        <label class="form-check-label" for="radio2">
                        州立
                        </label>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="conditions3">
            <div class="box">
                    <div class="tooltip-container2">
                        <span class="tooltip-trigger">？</span>
                        <div class="tooltip-content">
                        2023年度の年間の平均学費は、私立大学$35,800、州立大学$26,290です。ほとんどのアメリカの大学は毎年3%~10%の値上げを行うため、卒業までの期間を考慮し予算に余裕をもって大学を選ぶ必要があります。このほか、寮費、食費、教材費等も必要です。
                        </div>
                    </div> 
                    <div class="line-header3">
                    <h>年間授業料</h>
                    </div>
                <form>
                    <div class="form-group2">
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio1" value="option1" checked>
                        <label class="form-check-label" for="radio1">
                            指定しない
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio2" value="option2">
                        <label class="form-check-label" for="radio2">
                            ~$9999
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio3" value="option3">
                        <label class="form-check-label" for="radio3">
                            $10,000~$19,999
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio4" value="option4">
                        <label class="form-check-label" for="radio4">
                            $20,000~$29,999
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio4" value="option5">
                        <label class="form-check-label" for="radio5">
                            $30,000~$39,999
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio4" value="option6">
                        <label class="form-check-label" for="radio6">
                            $40,000~$49,999
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio4" value="option7">
                        <label class="form-check-label" for="radio7">
                            $50,000~$59,999
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio4" value="option8">
                        <label class="form-check-label" for="radio8">
                            $60,000~
                        </label>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="conditions4">
            <div class="box">
                <div class="line-header4">
                <h>学生数</h>    
                </div>
                <form>
                    <div class="form-group3">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="groupCheck33.1">
                        <label class="form-check-label" for="groupCheck33.1">
                            小規模(~2999人)
                        </label>
                        </div>

                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="groupCheck35">
                        <label class="form-check-label" for="groupCheck35">
                            中規模(3000人~9999人)
                        </label>
                        </div>

                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="groupCheck35">
                        <label class="form-check-label" for="groupCheck35">
                            大規模(10,000人~29,999人)
                        </label>
                        </div>

                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="groupCheck35">
                        <label class="form-check-label" for="groupCheck35">
                            超大規模(30,000人~)
                        </label>
                        </div>
                    </div>    
                </form>
            </div>
        </div>

        <div class="conditions5">
            <div class="box">
                    <div class="tooltip-container3">
                        <span class="tooltip-trigger">？</span>
                        <div class="tooltip-content">
                        GPAとはGrade Point Averageの略で、通常4.0を最高点とし成績平均値を算出します。日本のような学力試験のないアメリカでは、入学審査の項目として最終学歴のGPAが非常に重視されます。ハーバード大学といった名門校では満点近くのGPAが求められます。
                        </div>
                    </div>   
                    <div class="line-header5">
                    <h>入学者平均GPA</h>
                    </div>
                <form>
                    <div class="form-group4">
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio1" value="option1" checked>
                        <label class="form-check-label" for="radio1">
                            指定しない
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio2" value="option2">
                        <label class="form-check-label" for="radio2">
                            0~2.49
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio3" value="option3">
                        <label class="form-check-label" for="radio3">
                            2.50~2.99
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio4" value="option4">
                        <label class="form-check-label" for="radio4">
                            3.00~3.49
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio4" value="option4">
                        <label class="form-check-label" for="radio4">
                            3.50~3.74
                        </label>
                        </div>
                        <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="radio4" value="option5">
                        <label class="form-check-label" for="radio5">
                            3.75~
                        </label>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="conditions6">
            <div class="box">
                    <div class="tooltip-container4">
                        <span class="tooltip-trigger">？</span>
                        <div class="tooltip-content">
                        NCAAは全米大学体育協会と呼ばれ、全米の大学が所属しています。各大学はDivisionⅠ~Ⅲに分けられ、Ⅰが最もレベルが高く、スポーツ奨学金も充実しています。
                        </div>
                    </div> 
                    <div class="line-header6">
                    <h>NCAA Division(部活)</h>  
                    </div>
                <form>
                    <div class="form-group5">
                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="groupCheck33.1">
                        <label class="form-check-label" for="groupCheck33.1">
                            Division Ⅰ
                        </label>
                        </div>

                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="groupCheck35">
                        <label class="form-check-label" for="groupCheck35">
                            Division Ⅱ
                        </label>
                        </div>

                        <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="groupCheck35">
                        <label class="form-check-label" for="groupCheck35">
                            Division Ⅲ
                        </label>
                        </div>
                    </div>    
                </form>
            </div>
        </div>
    </div>

    <div class="contents1">
        <div class="conditions7">
            <div class="box1">
                <div class="tooltip-container5">
                    <span class="tooltip-trigger1">？</span>
                    <div class="tooltip-content">
                        アメリカの大学では、2つ以上の分野を専攻することができます。また、副専攻として学ぶこともできます。文理の壁がほとんどないため、全く異なる分野を同時に学ぶことができます。
                    </div>
                </div>
                <div class="line-header7">
                <h>専攻</h>
                </div>
                <div class="options">
                    <label><input type="checkbox"> 生物学</label>
                    <label><input type="checkbox"> 教育学</label>
                    <label><input type="checkbox"> 政治学</label>
                    <label><input type="checkbox"> 数学</label>
                    <label><input type="checkbox"> 物理学</label>
                    <label><input type="checkbox"> 経済学</label>
                    <label><input type="checkbox"> 音楽</label>
                    <label><input type="checkbox"> 農学</label>
                    <label><input type="checkbox"> 経営学</label>
                    <label><input type="checkbox"> 心理学</label>
                    <label><input type="checkbox"> 社会学</label>
                    <label><input type="checkbox"> 環境学</label>
                    <label><input type="checkbox"> 建築学</label>
                    <label><input type="checkbox"> 化学</label>
                    <label><input type="checkbox"> 倫理学</label>
                    <label><input type="checkbox"> 歴史学</label>
                    <label><input type="checkbox"> グラフィックデザイン</label>
                    <label><input type="checkbox"> 工学(エンジニアリング)</label>
                    <label><input type="checkbox"> 政治学</label>
                    <label><input type="checkbox"> 刑事司法</label>
                    <label><input type="checkbox"> コミュニケーション学</label>
                    <label><input type="checkbox"> 演劇</label>
                    <label><input type="checkbox"> 地理学</label>
                    <label><input type="checkbox"> 統計学</label>
                    <label><input type="checkbox"> 公衆衛生学</label>
                    <label><input type="checkbox"> 哲学</label>
                    <label><input type="checkbox"> 国際関係学</label>
                    <label><input type="checkbox"> 法医学</label>
                    <label><input type="checkbox"> 宗教学</label>
                    <label><input type="checkbox"> スペイン語</label>
                    <label><input type="checkbox"> 看護学</label>
                    <label><input type="checkbox"> 言語学</label>
                    <label><input type="checkbox"> TESOL</label>
                </div>
            </div>
        </div>
    </div>

    <div class="search-button-container">
        <button class="btn2 btn-primary" id="search-button">検索</button>
    </div>


    <script>
        document.getElementById('search-button').addEventListener('click', function () {
            // 州の選択値を取得してマッピング
            const stateText = document.getElementById('dropdownMenuButton').innerText.trim();
            let state = '';
            
            // 州名をコードにマッピング
            const stateMapping = {
                'すべての州': '',
                'New South Wales (シドニー)': 'NSW',
                'Victoria (メルボルン)': 'VIC', 
                'Queensland (ブリスベン・ゴールドコースト)': 'QLD',
                'Western Australia (パース)': 'WA',
                'South Australia (アデレード)': 'SA',
                'Australian Capital Territory (キャンベラ)': 'ACT',
                'Tasmania (ホバート)': 'TAS',
                'Northern Territory (ダーウィン)': 'NT'
            };
            
            state = stateMapping[stateText] || '';
            
            // 年間授業料の範囲を取得
            const tuitionText = document.querySelector('.form-group2 input:checked')?.nextElementSibling?.innerText.trim();
            let minTuition = '';
            let maxTuition = '';
            
            if (tuitionText && tuitionText !== '指定しない') {
                // 授業料の範囲を解析
                if (tuitionText.includes('~')) {
                    const match = tuitionText.match(/\$?([\d,]+)~\$?([\d,]+)/);
                    if (match) {
                        minTuition = match[1].replace(/,/g, '');
                        maxTuition = match[2].replace(/,/g, '');
                    }
                } else if (tuitionText.includes('～')) {
                    // 最小値のみ
                    const match = tuitionText.match(/\$?([\d,]+)~/);
                    if (match) {
                        minTuition = match[1].replace(/,/g, '');
                    }
                } else {
                    // 最大値のみ
                    const match = tuitionText.match(/~\$?([\d,]+)/);
                    if (match) {
                        maxTuition = match[1].replace(/,/g, '');
                    }
                }
            }
            
            // 専攻分野を取得
            const fields = Array.from(document.querySelectorAll('.options input[type="checkbox"]:checked'))
                .map(cb => cb.parentElement.textContent.trim())
                .filter(text => text !== "");
            
            // パラメータを構築
            const params = new URLSearchParams();
            if (state) params.append('state', state);
            if (minTuition) params.append('min_tuition', minTuition);
            if (maxTuition) params.append('max_tuition', maxTuition);
            if (fields.length > 0) {
                fields.forEach(field => params.append('field[]', field));
            }
            
            // オーストラリア大学のインデックスページにリダイレクト
            window.location.href = `/au/universities?${params.toString()}`;
        });
    </script>

</div> 
</div>

<style>
/* オーストラリアページ専用のレスポンシブデザイン */

/* モバイル対応 (768px以下) */
@media (max-width: 768px) {
  .main {
    padding: 15px 10px;
  }
  
  .copy-container {
    min-height: 300px;
    padding: 30px 15px 25px;
  }
  
  .copy-container h1 {
    font-size: 1.8rem;
  }
  
  .copy-container h2 {
    font-size: 1rem;
  }
  
  /* コンテンツグリッドをモバイル用に調整 */
  .contents {
    grid-template-columns: 1fr;
    gap: 15px;
    margin-top: 20px;
  }
  
  .contents1 {
    padding-top: 15px;
  }
  
  /* ボックスの高さを自動調整 */
  .box {
    height: auto;
    min-height: 250px;
    padding: 15px;
  }
  
  .box1 {
    height: auto;
    min-height: 400px;
    padding: 20px 15px;
    margin-bottom: 20px;
  }
  
  /* ドロップダウンボタンを全幅に */
  .dropdown button {
    width: 100%;
  }
  
  /* フォームグループの余白調整 */
  .form-group1, .form-group2, .form-group3, 
  .form-group4, .form-group5 {
    margin-top: 50px;
  }
  
  /* ツールチップコンテナの位置調整 */
  .tooltip-container1, .tooltip-container2, 
  .tooltip-container3, .tooltip-container4, 
  .tooltip-container5 {
    top: 12px;
    right: 15px;
  }
  
  /* ツールチップ内容の幅調整 */
  .tooltip-content {
    width: calc(100vw - 40px);
    max-width: 320px;
    left: 50%;
    right: auto;
    transform: translateX(-50%);
    font-size: 12px;
    padding: 12px;
  }
  
  /* 右側のツールチップも中央表示 */
  .tooltip-container3 .tooltip-content,
  .tooltip-container4 .tooltip-content {
    left: 50%;
    right: auto;
    transform: translateX(-50%);
  }
  
  .tooltip-content::before {
    left: 50%;
    right: auto;
    transform: translateX(-50%) rotate(45deg);
  }
  
  /* ラインヘッダーのフォントサイズ調整 */
  .line-header1 h1, .line-header2 h1, .line-header3 h1,
  .line-header4 h1, .line-header5 h1, .line-header6 h1,
  .line-header7 h1 {
    font-size: 16px;
  }
  
  /* 専攻選択オプションをモバイル用に調整 */
  .options {
    grid-template-columns: 1fr;
    gap: 8px;
    margin-top: 50px;
  }
  
  .options label {
    padding: 8px;
    font-size: 14px;
  }
  
  /* 検索ボタンのサイズ調整 */
  .btn2.btn-primary {
    width: 100%;
    padding: 12px 20px;
    font-size: 14px;
  }
  
  .search-button-container {
    margin: 30px 0;
    padding: 0 10px;
  }
}

/* タブレット対応 (769px-1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .main {
    padding: 20px 30px;
  }
  
  .contents {
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }
  
  .box {
    height: auto;
    min-height: 280px;
  }
  
  .box1 {
    height: auto;
    min-height: 450px;
  }
  
  .options {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
}

/* 小さい画面 (480px以下) */
@media (max-width: 480px) {
  .main {
    padding: 10px 5px;
  }
  
  .copy-container {
    min-height: 250px;
    padding: 20px 10px;
  }
  
  .copy-container h1 {
    font-size: 1.5rem;
    margin-bottom: 10px;
  }
  
  .copy-container h2 {
    font-size: 0.9rem;
    padding: 8px 15px;
  }
  
  .box {
    padding: 12px;
    margin-bottom: 10px;
  }
  
  .box1 {
    padding: 15px 12px;
  }
  
  /* ドロップダウンメニューの高さ調整 */
  .dropdown-menu {
    max-height: 200px;
  }
  
  /* フォームチェックの文字サイズ */
  .form-check-label {
    font-size: 13px;
  }
  
  /* ツールチップトリガーのサイズ */
  .tooltip-trigger {
    width: 18px;
    height: 18px;
    font-size: 10px;
  }
  
  /* ツールチップ内容 */
  .tooltip-content {
    width: calc(100vw - 30px);
    font-size: 11px;
    padding: 10px;
    line-height: 1.4;
  }
  
  /* ラインヘッダーの調整 */
  .line-header1 h1, .line-header2 h1, .line-header3 h1,
  .line-header4 h1, .line-header5 h1, .line-header6 h1,
  .line-header7 h1 {
    font-size: 14px;
  }
  
  /* 専攻オプションの文字サイズ */
  .options label {
    font-size: 12px;
    padding: 6px;
  }
  
  .options input[type="checkbox"] {
    width: 14px;
    height: 14px;
    margin-right: 6px;
  }
  
  /* 検索ボタン */
  .btn2.btn-primary {
    padding: 10px 15px;
    font-size: 13px;
    min-width: 150px;
  }
}

/* 横向きモバイル対応 */
@media (max-width: 896px) and (orientation: landscape) {
  .copy-container {
    min-height: 200px;
    padding: 20px 15px;
  }
  
  .contents {
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
  }
  
  .box {
    height: auto;
    min-height: 220px;
  }
  
  .options {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* プリント対応 */
@media print {
  .tooltip-container1, .tooltip-container2,
  .tooltip-container3, .tooltip-container4,
  .tooltip-container5 {
    display: none;
  }
  
  .box, .box1 {
    box-shadow: none;
    border: 1px solid #ddd;
  }
}
</style>